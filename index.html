<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>GradientGenerator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="dist/css/style.css">
	<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400' rel='stylesheet' type='text/css'>
</head>
<body>
	
	<div id="canvas">
		
	  <input type="checkbox" id="open_config">
		
		
		<div id="points" class="points">
			<table id="coords">
			</table>
			
		</div>

		<div class="other-controls">
			<div id="points-op">
			</div>
			<input id="bg-color" type="text" class="color {hash:true,caps:false,pickerFaceColor:'transparent',pickerFace:3,pickerBorder:0,pickerInsetColor:'black'}" value="#000">
			
			<div id="random">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
					<defs>
				  	<path id="shuffle" fill="white" d="M26.125.219c-.075.037-.125.131-.125.281v2.5h-2.5c-1.1 0-1.996.371-2.75 1.125l-4.813 4.813 2.125 2.125 4.813-4.813.031-.031c.091-.061.5-.219.594-.219h2.5v2.5c0 .3.206.387.406.188l5.188-3.875c.2-.2.2-.425 0-.625l-5.188-3.875c-.1-.1-.206-.131-.281-.094zm-26.125 2.781v3h5.5c.1 0 .579.204.625.25l14.625 14.625c.754.754 1.65 1.125 2.75 1.125h2.5v2.5c0 .3.206.387.406.188l5.188-3.875c.2-.2.2-.425 0-.625l-5.188-3.875c-.2-.2-.406-.113-.406.188v2.5h-2.5c-.1 0-.579-.204-.625-.25l-14.625-14.625c-.754-.754-1.65-1.125-2.75-1.125h-5.5zm10.938 10.938l-4.813 4.813c.042-.042-.725.25-.625.25h-5.5v3h5.5c1.085 0 1.889-.279 2.719-1.094l.031-.031 4.813-4.813-2.125-2.125z" />
				  </defs>
				  <use xlink:href="#shuffle" />
				</svg>
			</div>

			<select id="presets" onchange="changePreset()">
			  <option value="" disabled selected >Presets form uigradients</option>
			  
			</select>
		</div>

		<pre class="popup" id="popup-code"><code class="code" id="generated_code" data-clipboard-target="generated_code"></code></pre>

		<div class="popup" id="popup-q">

			<p>
				<span href="#" class="main-logo">
					dra<small><sup>G</sup><sub>G</sub></small>radients
				</span> is as a simple tool to generate and customize multiple css3 radial gradients.
			</p>
			<p>I get back an old project that uses a multiple gradient jpg image as a background and started to generate the same image in css-only.<br>
				Instead of code only this image I finished doing this little stuff. Hope you enjoy it!</p>
				<hr>
				<p>
					<svg xmlns="http://www.w3.org/2000/svg" class="popup-icon" viewBox="0 0 512 512" >
						<use xlink:href="#cog" />
					</svg>
					Toggle main controls (also pressing ESC key) to customize, add and arrange each point generator.
				</p>
				<p>
					Basically the tool works generating radial-gradients from each draggable point, and you could control:<br>
					- <strong>The main color.</strong> Wrinting any valid (rgba, rgb, hex, html, etc) color type or picking one from the colorPicker.<br>
					- <strong>The position.</strong> Dragging each point in the canvas.<br>
					- <strong>The deep.</strong> Sliding or changing the value, you could set the percentage of each radial-gradient.<br>
				<p>
				<p>
					You could also add, delete and arrange each point from the same section.
				</p>
			<p>
				In the bottom left menu, you could:<br>
				- <strong>Toggle points.</strong> Switch on/off the points from the main view.<br>
				- <strong>Change background.</strong> It modifies the last child of the gradient that works as background.<br>
				<svg xmlns="http://www.w3.org/2000/svg" class="popup-icon" viewBox="0 0 32 32" >
						<use xlink:href="#shuffle" />
					</svg> <strong>Generate random.</strong> Clicking on this button.<br>
				- <strong>Presets</strong> from <a href="https://github.com/Ghosh/uiGradients/blob/master/gradients.json">uigradients</a> by Indrashish Ghosh.
			</p>
			<p>
				<svg xmlns="http://www.w3.org/2000/svg" class="popup-icon" viewBox="0 0 120 120" >
						<use xlink:href="#cdpn" />
					</svg> 
					You could also create a pen with the generated gradient, clicking on the Codepen logo.
				</p>
				<hr>
				<p class="center">
					This simple and little tool was made with ‚ù§ by <a href="http://www.twitter.com/elrumordelaluz">@elrumordelaluz</a>
				</p>
		</div>
		
	</div> 


	<script type="text/javascript" src="dist/js/main.js"></script>
	<script type="text/javascript">
		
		function randomInit(num){
			switch(num){
      	case 1:
        	return new LinearGradients(5,{
							d1:{ color: '#7e75ff', left: '90%', top: '8%', deep: '67%' },
							d2:{ color: '#73ffab', left: '52%', top: '43%', deep: '61%' },
							d4:{ color: '#ff94fb', left: '4%', top: '90%', deep: '67%' },
							d3:{ color: '#ffff4a', left: '9%', top: '17.5%', deep: '58%' },
							d5:{ color: '#ff722b', left: '93%', top: '92%', deep: '61%' },
							bg: '#fff'
						});
					break;

				case 2:
        	return new LinearGradients(2,{
							d1:{ color: '#54a4ff', left: '94%', top: '88%' },
							d2:{ color: '#ff94fb', left: '7%', top: '16%'	},
							bg: '#000'
						});
					break;

				case 3:
        	return new LinearGradients(2,{
							d1:{ color: '#f7ffad', left: '94%', top: '88%' },
							d2:{ color: '#73ffab', left: '7%', top: '16%'	},
							bg: 'rgb(218, 255, 194)'
						});
					break;
          
				default: 
					return new LinearGradients(5,{
							d1:{ color: '#7e75ff', left: '90%', top: '8%', deep: '67%' },
							d2:{ color: '#73ffab', left: '52%', top: '43%', deep: '61%' },
							d4:{ color: '#ff94fb', left: '4%', top: '90%', deep: '67%' },
							d3:{ color: '#ffff4a', left: '9%', top: '17.5%', deep: '58%' },
							d5:{ color: '#ff722b', left: '93%', top: '92%', deep: '61%' },
							bg: '#fff'
						});
        }
		}


		 var storage = window['localStorage'];

		 if (window.localStorage && window.localStorage.getItem('value') /*&& window.localStorage.getItem('value') !== "{}" */) {
		 	 stored = JSON.parse(window.localStorage.getItem('value'));
			 var size = 0;
			 var storedOptions = {};

			 if(Object.getOwnPropertyNames(stored).length === 1){
			 	randomInit(Math.floor(Math.random() * 3) + 1);
			 } else {
			 	for(key in stored){
				 	if (stored.hasOwnProperty(key)) size++;
				 	storedOptions[stored[key].name] = {
				 		left: stored[key].posX,
				 		top: stored[key].posY,
				 		color: stored[key].colour,
				 		deep: stored[key].deep,
				 	}
				 }
				 console.log(stored)
				 storedOptions.bg = stored.bg;
		 	 	 new LinearGradients(size-1, storedOptions);
			 }
		 } else {
		 	 randomInit(Math.floor(Math.random() * 3) + 1);
		 }
		 
	

		var random = document.getElementById('random');

		var genOpt = function(){
			var q = Math.floor(Math.random() * 5) + 1;
			var opt = {};
			for (var i = 1; i <= q; i++) {
				opt["d" + i] = {
					color: '#'+Math.floor(Math.random()*16777215).toString(16), // http://www.paulirish.com/2009/random-hex-color-code-snippets/
					left: (Math.floor(Math.random() * 97) + 1) + "%",
					top: (Math.floor(Math.random() * 97) + 1) + "%",
					deep: (Math.floor(Math.random() * 97) + 1) + "%"
				}
			};
			opt.bg = '#'+Math.floor(Math.random()*16777215).toString(16);
			return new LinearGradients(q, opt);
		}
		
		random.onclick = genOpt;




		var presets = document.getElementById("presets");

		function setPreset(name, colour1, colour2){
   		this.name = name;
   		this.d1 = {
   			color: colour1,
   			left: '2%',
				top: (Math.floor(Math.random() * 99) + 1) + "%"
   		};
   		this.d2 = {
   			color: colour2,
   			left: '98%',
				top: (Math.floor(Math.random() * 99) + 1) + "%"
   		}
   	}

		var request = new XMLHttpRequest();
   	request.open("GET", "uiGradients.json", false);
   	request.send(null)
   	var uiGradients = JSON.parse(request.responseText);
   
   	var uiG = {};
   	for(key in uiGradients){
   		uiG[uiGradients[key].name] = new setPreset(uiGradients[key].name, uiGradients[key].colour1, uiGradients[key].colour2);
   		var opt = document.createElement('option');
	    opt.value = 2;
	    opt.innerHTML = uiGradients[key].name;
	    presets.appendChild(opt);
   	}	

		function changePreset(){
			new LinearGradients(presets.options[presets.selectedIndex].value, uiG[presets.options[presets.selectedIndex].innerHTML])
		}


	</script>
</body>
</html>